<!DOCTYPE html>
<html ng-app="demo">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>MFEM</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="angular-route.js"></script>
    <script src="app.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="RadarChart.js"></script>
    <link rel="stylesheet" href="layout.css">
</head>
<body>
<div ng-controller="Controller">
    <div ng-init="getCats()">
        <h3>Ergebnis der durchgef√ºhrten Evaluation:</h3>
        <ul class="flex-outer">
            <li>
                <label>{{catego[0].category}}: {{resultEva[0]}}</label>
                <label>{{catego[1].category}}: {{resultEva[1]}}</label>
                <label>{{catego[2].category}}: {{resultEva[2]}}</label>
                <label>{{catego[3].category}}: {{resultEva[3]}}</label>
                <label>{{catego[4].category}}: {{resultEva[4]}}</label>
                <label>{{catego[5].category}}: {{resultEva[5]}}</label>
            </li>
        </ul>
        <div id="radar">
            <div id="chart"></div>
        </div>
        <script>
            //Diagramm
            var w = 500,
                h = 500;

            var colorscale = d3.scale.category10();

            //Legend titles
            var LegendOptions = ['Smartphone'];

            //Data
            var d = [
                [
                    {axis:"{{catego[0].category}}",value:0.59},
                    {axis:"{{catego[1].category}}",value:0.56},
                    {axis:"{{catego[2].category}}",value:0.42},
                    {axis:"{{catego[3].category}}",value:0.34},
                    {axis:"{{catego[4].category}}",value:0.48},
                    {axis:"{{catego[5].category}}",value:0.14}
                ]
            ];

            //Options for the Radar chart, other than default
            var mycfg = {
                w: w,
                h: h,
                maxValue: 1.0,
                levels: 10,
                ExtraWidthX: 300
            };

            //Call function to draw the Radar chart
            //Will expect that data is in %'s
            RadarChart.draw("#chart", d, mycfg);

            //Legende
            var svg = d3.select('#radar')
                .selectAll('svg')
                .append('svg')
                .attr("width", w+300)
                .attr("height", h);

            //Create the title for the legend
            var text = svg.append("text")
                .attr("class", "title")
                .attr('transform', 'translate(90,0)')
                .attr("x", w - 70)
                .attr("y", 10)
                .attr("font-size", "12px")
                .attr("fill", "#404040")
                .text("Framework");

            //Initiate Legend
            var legend = svg.append("g")
                .attr("class", "legend")
                .attr("height", 100)
                .attr("width", 200)
                .attr('transform', 'translate(90,20)')
            ;
            //Create colour squares
            legend.selectAll('rect')
                .data(LegendOptions)
                .enter()
                .append("rect")
                .attr("x", w - 65)
                .attr("y", function(d, i){ return i * 20;})
                .attr("width", 10)
                .attr("height", 10)
                .style("fill", function(d, i){ return colorscale(i);})
            ;
            //Create text next to squares
            legend.selectAll('text')
                .data(LegendOptions)
                .enter()
                .append("text")
                .attr("x", w - 52)
                .attr("y", function(d, i){ return i * 20 + 9;})
                .attr("font-size", "11px")
                .attr("fill", "#737373")
                .text(function(d) { return d; })
            ;
        </script>
    </div>
</div>
</body>
</html>